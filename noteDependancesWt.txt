dépendances wt pour webAptitude ; 

git clone https://github.com/JoLeBelge/Forestimator

contenu git/config LOCAL:
[core]
	repositoryformatversion = 0
	filemode = true
	bare = false
	logallrefupdates = true
[remote "origin"]
	url = https://JoLeBelge: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@github.com/JoLeBelge//Forestimator.git
	fetch = +refs/heads/*:refs/remotes/origin/*
[branch "master"]
	remote = origin
	merge = refs/heads/master
[submodule "cWebAptitude/libzippp"]
	url = https://github.com/ctabin/libzippp
	active = true
	
Contenu git config GLOBAL, accessible via git config --global --edit

[user]
        user = JoLeBelge
        email = liseinjon@hotmail.com
        name = lisein
        #password=joaigun1
        password = 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
[credential]
        helper = cache

	

sudo apt install libgraphicsmagick++1-dev libpango1.0-dev cmake mercurial libcurl4-openssl-dev

# package pour compilation forestimator
sudo apt install sqlite3 libgdal-dev lzip

libharu ; compiler depuis les sources.
git clone https://github.com/libharu/libharu
mkdir build
cd build ../
cmake ../
make -j2
make install

compilation wt ; 
cmake -DWT_WRASTERIMAGE_IMPLEMENTATION="GraphicsMagick" ..

hélas WRasterImage est foireux, image dédoublée et avec couleur mauvâtre. ce doit être le problème de QuantumDepth qui est mal paramètré. (8 au lieu de 16 je suppose)

Sur ma machine si je change les paramètres de cmake pour wt GM_INCLUDE_DIR, GM_LIB et GM_PREFIX comme ceci;

cmake -DWT_WRASTERIMAGE_IMPLEMENTATION="GraphicsMagick" -DGM_INCLUDE_DIR="/usr/local/include/GraphicsMagick" -DGM_LIB="/usr/local/lib/libGraphicsMagick.so" -DGM_PREFIX="/usr/local/include/GraphicsMagick" ..

le problème est reglé. Donc si je comprend bien il faut compiler GM depuis les sources :

hg clone http://hg.code.sf.net/p/graphicsmagick/code/ GM
cd GM
./configure --enable-shared --with-quantum-depth=16
sudo make install

et ensuite

cmake -DWT_WRASTERIMAGE_IMPLEMENTATION="GraphicsMagick" -DGM_INCLUDE_DIR="/usr/local/include/GraphicsMagick" -DGM_LIB="/usr/local/lib/libGraphicsMagick.so" -DGM_PREFIX="/usr/local/include/GraphicsMagick" ..

ok ça fonctionne sur le serveur également

#Install header files and library for cURL (dans wrapper pour WMS CNSW)
sudo aptitude install libcurl4-openssl-dev
sur le serveur il a désinstallé libcurl4-gnutsl pour installé ce truc. J'espère que j'ai pas foutu le bronx


