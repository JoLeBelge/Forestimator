dépendances wt pour webAptitude ; 

sudo apt install libgraphicsmagick++1-dev
sudo apt install libpango1.0-dev 

libharu ; compiler depuis les sources.
mkdir build
cd build ../
cmake ../
make -j2
make install

compilation wt ; 
cmake -DWT_WRASTERIMAGE_IMPLEMENTATION="GraphicsMagick" ..

hélas WRasterImage est foireux, image dédoublée et avec couleur mauvâtre. ce doit être le problème de QuantumDepth qui est mal paramètré. (8 au lieu de 16 je suppose)

Sur ma machine si je change les paramètres de cmake pour wt GM_INCLUDE_DIR, GM_LIB et GM_PREFIX comme ceci;

cmake -DWT_WRASTERIMAGE_IMPLEMENTATION="GraphicsMagick" -DGM_INCLUDE_DIR="/usr/local/include/GraphicsMagick" -DGM_LIB="/usr/local/lib/libGraphicsMagick.so" -DGM_PREFIX="/usr/local/include/GraphicsMagick" ..

le problème est reglé. Donc si je comprend bien il faut compiler GM depuis les sources :

apt install mercurial
hg clone http://hg.code.sf.net/p/graphicsmagick/code/ GM
cd GM
./configure --enable-shared --with-quantum-depth=16
sudo make install

et ensuite

cmake -DWT_WRASTERIMAGE_IMPLEMENTATION="GraphicsMagick" -DGM_INCLUDE_DIR="/usr/local/include/GraphicsMagick" -DGM_LIB="/usr/local/lib/libGraphicsMagick.so" -DGM_PREFIX="/usr/local/include/GraphicsMagick" ..

ok ça fonctionne sur le serveur également

#Install header files and library for cURL (dans wrapper pour WMS CNSW)
sudo aptitude install libcurl4-openssl-dev
sur le serveur il a désinstallé libcurl4-gnutsl pour installé ce truc. J'espère que j'ai pas foutu le bronx


